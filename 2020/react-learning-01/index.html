<!-- layout page -->
<!DOCTYPE html>
<html lang="zh-hans">
  <!-- 头部信息 head&meta -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>「 ReactJS 笔记 」 L01 井字棋 | blog [ YOG WANG ]</title>
  <meta name="keywords" content="YogWang,blog,web-frontend" />
  <meta name="description" content="Here is my blog, my notes and some thoughts" />
  <meta name="author" content="YogWang" />
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/atelier-sulphurpool-light.css">

  
<link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css">

  
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/min/moment.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>

  <body>
    <!-- 页头 page header -->
<header id="header">
  <!-- 左侧图标 left logo -->
  <a class="header-sign" href="/">
    <img src="/favicon.png" alt="logo" />
    <span>YOG<br />WANG</span>
  </a>
  <!-- 头部菜单 header menu -->
  <nav class="header-navbar">
    
    <a class="nav-link" href="/archives">文章</a>
    
    <a class="nav-link" href="/about">我</a>
    
    <a class="nav-link" target="_blank" rel="noopener" href="https://github.com/yogwang">GitHub</a>
    
  </nav>
</header>

    <div id="wrap">
      <!-- 文章页 post detail page -->
<main id="container">
  <!--
 * @Description: 
 * @Author: wang.weiyang
 * @Date: 2022-07-22 08:25:45
 * @LastEditors: wang.weiyang
 * @LastEditTime: 2022-07-25 10:08:50
-->
<!-- 文章详情 Post Detail -->
<div
  id="post-react-learning-01"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  <div class="article-inner">
    
    <header class="article-header">
      <div class="article-meta">
        <div>
          
  <div class="article-category">
    <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E8%B8%A9%E5%9D%91%E6%97%A5%E8%AE%B0/">踩坑日记</a></li></ul>
  </div>

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactJS/" rel="tag">ReactJS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li></ul>

        </div>
         
<div class="article-date">
  <time datetime="2020-05-25T00:48:12.000Z" itemprop="datePublished">2020-05-25</time>
</div>
      </div>
      
  
    <h1 class="article-title" itemprop="name">
      「 ReactJS 笔记 」 L01 井字棋
    </h1>
  

      <div class="article-updated">
        
      </div>
    </header>
    
    <div class="article-entry" itemprop="articleBody">
      <div id="expired-tag"></div>
      <!-- 文章内容 article body -->
 
  <article class="article-content">
    <p>学习新东西的时候只看肯定是不够的, 所以既然 <code>ReactJS</code> 官方提供了一个<a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/tutorial/tutorial.html">学习的案例</a>, 那么就一边写Demo, 一边读文档.</p>
<blockquote>
<p>Tips: 我是直接看案例然后按照自己的理解去写的, 并没有按照官方案例亦步亦趋, 所以可能流程会不一样.</p>
</blockquote>
<p>井字棋这个 demo 主要分为两部分: </p>
<h2 id="棋盘"><a href="#棋盘" class="headerlink" title="棋盘"></a>棋盘</h2><ul>
<li>点击棋盘空白格子可以落子, 落子之后交换棋手. </li>
<li>棋格已经落子 &#x2F; 有棋手获胜时不可落子</li>
</ul>
<span id="more"></span>
<h2 id="游戏信息"><a href="#游戏信息" class="headerlink" title="游戏信息"></a>游戏信息</h2><ul>
<li>棋手信息<ul>
<li>提示当前落子的棋手信息</li>
<li>棋手获得胜利后, 显示胜利方</li>
</ul>
</li>
<li>对局历史记录<ul>
<li>展示对局历史信息</li>
<li>点击历史信息进行操作回溯</li>
</ul>
</li>
</ul>
<p>先从棋盘开始, 一共有9个格子, 每个格子有 3 个状态 (空, X, O)<br>我想到的就直接用 <code>flex</code> 布局了, 不需要考虑 <code>row</code> 和 <code>col</code>, 这样也可以直接用循环直接输出 9 个棋格, 同时也可以从循环里边取出棋格的状态</p>
<p>所以首先是造棋盘:</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>; <span class="hljs-comment">// 引入 React 以及React下的 Component 类</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>; <span class="hljs-comment">// 引入样式文件</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-comment">// 声明棋盘状态</span>
  state = &#123;
    <span class="hljs-attr">squares</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>] <span class="hljs-comment">// 这里是棋盘9个格子的状态</span>
  &#125;
  <span class="hljs-comment">// </span>
  <span class="hljs-comment">/*</span>
<span class="hljs-comment">  * 当然你也可以使用 constructor,</span>
<span class="hljs-comment">  * 如果不理解 ES6 类的继承可以阅读 https://yogwang.github.io/2020/JS-class-constructor/</span>
<span class="hljs-comment">  constructor()&#123;</span>
<span class="hljs-comment">    super()</span>
<span class="hljs-comment">    this.state=&#123;</span>
<span class="hljs-comment">      squares: [0, 1, 2, 3, 4, 5, 6, 7, 8]</span>
<span class="hljs-comment">    &#125;</span>
<span class="hljs-comment">  &#125;</span>
<span class="hljs-comment">  */</span>
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          // 棋盘</span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            // 循环遍历棋格状态 并且返回单元格, 记得添加key, 这点于Vue一样</span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span>&gt;</span>&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>
<p>样式这边我用的预编译是 <code>Stylus</code>, 省略了括号, 冒号以及分号, 其它和 <code>SCSS</code> 基本一样.<br>如果不了解大概看一下就行</p>
<pre><code class="hljs stylus"><span class="hljs-comment">// App.styl</span>
<span class="hljs-variable">$square</span> = <span class="hljs-number">60px</span> <span class="hljs-comment">/* 定义一个格子的宽度 */</span>
<span class="hljs-comment">// 棋盘样式</span>
<span class="hljs-selector-class">.board</span>
  <span class="hljs-attribute">width</span> <span class="hljs-variable">$square</span> * <span class="hljs-number">3</span> <span class="hljs-comment">/* 一行3个格子的宽度 */</span>
  <span class="hljs-attribute">border</span> <span class="hljs-number">1px</span> solid black
  <span class="hljs-attribute">display</span> flex <span class="hljs-comment">/* flex 布局 */</span>
  <span class="hljs-attribute">flex-wrap</span> wrap <span class="hljs-comment">/* 超出宽度可换行 */</span>
<span class="hljs-comment">// 棋格样式</span>
<span class="hljs-selector-class">.square</span>
  <span class="hljs-attribute">width</span> <span class="hljs-variable">$square</span>
  <span class="hljs-attribute">height</span> @width <span class="hljs-comment">/* 高度同宽度 */</span>
  <span class="hljs-attribute">line-height</span> @height <span class="hljs-comment">/* 文字行高同容器高度 这里应该要减去 border 的高度, 但是不碍事 */</span>
  <span class="hljs-attribute">font-size</span> <span class="hljs-number">25px</span>
  <span class="hljs-attribute">text-align</span> center
  <span class="hljs-attribute">border</span> <span class="hljs-number">1px</span> solid black
  <span class="hljs-attribute">box-sizing</span> border-box <span class="hljs-comment">/* 修改盒模型 */</span>
  <span class="hljs-attribute">cursor</span> pointer</code></pre>

<p>完成之后大概是这样的一个样子</p>
<p><img src="/2020/react-learning-01/board.jpg" alt="棋盘"></p>
<p>然后是游戏信息的展示, 因为是交替落子, 所以单数步数是 棋手X 落子的话, 双数步数就一定是 棋手O 落子.<br>顺便给棋格绑定上点击事件, 棋盘的组件大概可以这样初步完成</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123;
    <span class="hljs-attr">squares</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
    <span class="hljs-attr">step</span>:<span class="hljs-number">0</span>, <span class="hljs-comment">// 增加计步器</span>
  &#125;
  <span class="hljs-comment">// 获取当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> <span class="hljs-comment">// 获取当前步数</span>
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span> <span class="hljs-comment">// 按照步数奇偶返回棋手</span>
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> <span class="hljs-comment">// 获取当前棋盘信息以及步数</span>

    <span class="hljs-comment">// 既然获取到了棋格信息那么就顺便输出一下当前信息</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`当前步数: <span class="hljs-subst">$&#123;step&#125;</span>, 棋手: <span class="hljs-subst">$&#123;player&#125;</span>, 点击位置: <span class="hljs-subst">$&#123;position&#125;</span>`</span>)

    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span> <span class="hljs-comment">// 步数 +1</span>
    <span class="hljs-keyword">const</span> newSquares = squares
    newSquares[position] = player <span class="hljs-comment">// 修改对应棋格信息</span>

    <span class="hljs-comment">// 修改State, 并且触发渲染</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">squares</span>: newSquares, 
      <span class="hljs-attr">step</span>: newStep
    &#125;)
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              /*</span>
<span class="language-xml">              * 增加onClick事件, 这里和Vue不一样, 需要使用箭头函数, 或者使用 .bind(this) 绑定this</span>
<span class="language-xml">              * 具体原因请看上一篇 [React L00 起步]</span>
<span class="language-xml">              */</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleSquareClick(index,player)&#125;&gt;&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">          // 棋手信息</span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span>Current player: &#123;player&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>
<pre><code class="hljs stylus"><span class="hljs-comment">// App.styl</span>
<span class="hljs-comment">// ...接上一部分样式</span>
<span class="hljs-selector-class">.game-info</span>
  <span class="hljs-attribute">width</span> <span class="hljs-number">400px</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">600px</span>
  <span class="hljs-attribute">max-height</span> <span class="hljs-number">100vh</span>
  <span class="hljs-attribute">margin-left</span> <span class="hljs-number">60px</span>
<span class="hljs-selector-class">.player-info</span>
  <span class="hljs-attribute">font-size</span> <span class="hljs-number">22px</span></code></pre>

<p><img src="/2020/react-learning-01/board+playerinfo.jpg" alt="棋盘落子以及棋手信息"></p>
<p>现在棋盘可以被修改了, 棋手信息也有了, 同样也可以获取到每次操作的落子信息.</p>
<p>那么就可以先把历史记录加上, 并且展示</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123;
    <span class="hljs-attr">squares</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
    <span class="hljs-attr">step</span>:<span class="hljs-number">0</span>,
    <span class="hljs-attr">history</span>:[], <span class="hljs-comment">// 增加历史记录</span>
  &#125;
  <span class="hljs-comment">// 获取当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span>
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span>
    <span class="hljs-keyword">const</span> newSquares = squares
    newSquares[position] = player
    <span class="hljs-keyword">const</span> newHistory = history.<span class="hljs-title function_">concat</span>([&#123;
      <span class="hljs-attr">step</span>:step,
      <span class="hljs-attr">player</span>:player,
      <span class="hljs-attr">position</span>:position
    &#125;])
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">squares</span>: newSquares, 
      <span class="hljs-attr">step</span>: newStep,
      <span class="hljs-attr">history</span>: newHistory
    &#125;)
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares,history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleSquareClick(index,player)&#125;&gt;&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span>Current player: &#123;player&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">          // 历史信息</span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;history&#x27;</span>&gt;</span></span>
<span class="language-xml">            // 遍历循环历史信息记录</span>
<span class="language-xml">            &#123;history.map((record, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span>&gt;</span>Player_&#123;record.player&#125; to &#123;record.position&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>
<p>现在的游戏界面应该如下<br><img src="/2020/react-learning-01/history.jpg" alt="添加并展示历史记录"></p>
<p>这个时候呢, 就会有几个问题:</p>
<ul>
<li>棋格可以重复落子</li>
<li>没有获胜判断</li>
<li>棋盘默认显示数字, 很不美观</li>
</ul>
<p><em>其实还有一个问题, 在历史回溯的时候会很麻烦, 这个我实在游戏基本都完成了之后才发现的. 这个之后再说</em></p>
<p>所以在落子的时候增加<strong>当前棋格不为空</strong> 的判断, 并且以 <code>null</code> 填充数组;</p>
<p>代码修改如下</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123;
    <span class="hljs-attr">squares</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>), <span class="hljs-comment">// 创建一个长度为 9 的数组,并且填充 null</span>
    <span class="hljs-attr">step</span>:<span class="hljs-number">0</span>,
    <span class="hljs-attr">history</span>:[],
  &#125;
  <span class="hljs-comment">// 获取当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span>
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">if</span> (squares[position]) <span class="hljs-keyword">return</span> <span class="hljs-comment">// 增加棋格不会空的判断</span>
    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span>
    <span class="hljs-keyword">const</span> newSquares = squares
    newSquares[position] = player
    <span class="hljs-keyword">const</span> newHistory = history.<span class="hljs-title function_">concat</span>([&#123;
      <span class="hljs-attr">step</span>:step,
      <span class="hljs-attr">player</span>:player,
      <span class="hljs-attr">position</span>:position
    &#125;])
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">squares</span>: newSquares, 
      <span class="hljs-attr">step</span>: newStep,
      <span class="hljs-attr">history</span>: newHistory
    &#125;)
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleSquareClick(index,player)&#125;&gt;&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span>Current player: &#123;player&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">          // 历史信息</span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;history&#x27;</span>&gt;</span></span>
<span class="language-xml">            // 遍历循环历史信息记录</span>
<span class="language-xml">            &#123;history.map((record, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span>&gt;</span>Player_&#123;record.player&#125; to &#123;record.position&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>

<p><img src="/2020/react-learning-01/isNull.jpg" alt="添加不为空判断"></p>
<p>好了, 棋盘的大致都完成了, 现在来写获胜判断.<br>因为我想者是每次循环一次所有棋格, 然后找出获胜的玩家, 但是这里循环有点傻,<br>所以我是看了一下官方的demo, 是这样的一个思路, 把所有的胜利条件都所列了出来, 然后去循环胜利条件, 如果所有胜利条件都循环结束, 没有出现胜利的玩家则继续游戏.</p>
<pre><code class="hljs js"><span class="hljs-comment">// 计算赢家</span>
calculateWinner () &#123;
  <span class="hljs-comment">// 获胜条件</span>
  <span class="hljs-keyword">const</span> lines = [
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
    [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>],
    [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>],
    [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>],
    [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>],
  ];
  <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> <span class="hljs-comment">// 取得所有棋盘数据</span>
  <span class="hljs-comment">// 循环判断胜利条件</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; lines.<span class="hljs-property">length</span>; i++) &#123;
    <span class="hljs-keyword">const</span> [a, b, c] = lines[i]; <span class="hljs-comment">// 取出获胜坐标</span>
    <span class="hljs-comment">// 判断对应坐标是否有值 并且 三个坐标内的值是否相等</span>
    <span class="hljs-keyword">if</span> (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) &#123;
      <span class="hljs-keyword">return</span> squares[a]; <span class="hljs-comment">// 返回胜利者</span>
    &#125;
  &#125;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
&#125;</code></pre>

<p>然后补完一下棋盘, 胜利时在当前玩家信息提示获胜玩家.</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;
<span class="hljs-comment">// 获胜条件</span>
<span class="hljs-keyword">const</span> lines = [
  [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>],
  [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>],
];
<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123;
    <span class="hljs-attr">squares</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>),
    <span class="hljs-attr">step</span>:<span class="hljs-number">0</span>,
    <span class="hljs-attr">history</span>:[],
  &#125;
  <span class="hljs-comment">// 获取当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span>
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>() || squares[position]) <span class="hljs-keyword">return</span> <span class="hljs-comment">// 增加是否有赢家的判断</span>
    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span>
    <span class="hljs-keyword">const</span> newSquares = squares
    newSquares[position] = player
    <span class="hljs-keyword">const</span> newHistory = history.<span class="hljs-title function_">concat</span>([&#123;
      <span class="hljs-attr">step</span>:step,
      <span class="hljs-attr">player</span>:player,
      <span class="hljs-attr">position</span>:position
    &#125;])
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">squares</span>: newSquares, 
      <span class="hljs-attr">step</span>: newStep,
      <span class="hljs-attr">history</span>: newHistory
    &#125;)
  &#125;
<span class="hljs-comment">// 计算赢家</span>
calculateWinner () &#123;
  <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> 
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; lines.<span class="hljs-property">length</span>; i++) &#123;
    <span class="hljs-keyword">const</span> [a, b, c] = lines[i]; 
    <span class="hljs-keyword">if</span> (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) &#123;
      <span class="hljs-keyword">return</span> squares[a];
    &#125;
  &#125;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
&#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares,history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">const</span> winner = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>() <span class="hljs-comment">// 获取赢家</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleSquareClick(index,player)&#125;&gt;&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;winner ? `Player_$&#123;winner&#125; is Winner!!!` : `Current player: $&#123;player&#125;`&#125;</span>
<span class="language-xml">            // 判断是否有玩家获胜, 如果有则输出获胜信息, 没有则输出当前玩家信息</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;history&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;history.map((record, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span>&gt;</span>Player_&#123;record.player&#125; to &#123;record.position&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>

<p>整个游戏流程到现在基本就完成了, 但是点击历史记录回溯操作的功能还没有加上来.<br>这个时候我就有点卡壳了, 不知道在当前逻辑下怎么回退操作. 就去看了官方的案例,<br>它是每一步在历史记录内插入当前棋盘数据, 然后回退的时候直接读取历史棋盘数据, 并且没有在历史记录中展示每一步的具体操作内容.</p>
<p>所以想了想还是继续原先的历史记录, 并且按照历史记录来生成棋盘数据(这边参考了<a target="_blank" rel="noopener" href="https://space.bilibili.com/390120104">山地人老师</a>的思路),<br>那这样的话, 就不需要手动去修改棋盘数据了, 只要调用一下生成棋盘的函数就可以了. 具体代码修改如下</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;
<span class="hljs-keyword">const</span> lines = [
  [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>],
  [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>],
];
<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123;
    <span class="hljs-attr">squares</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>),
    <span class="hljs-attr">step</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">history</span>: [],
  &#125;
  <span class="hljs-comment">// 获取当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span>
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>() || squares[position]) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span>
    <span class="hljs-comment">// 移除了棋盘数据操作, </span>
    <span class="hljs-keyword">const</span> newHistory = [
      ...history.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, step),
      &#123;
        <span class="hljs-attr">step</span>: step,
        <span class="hljs-attr">player</span>: player,
        <span class="hljs-attr">position</span>: position
      &#125;
    ]
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">step</span>: newStep,
      <span class="hljs-attr">history</span>: newHistory,
      <span class="hljs-attr">squares</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateSquares</span>(newHistory, newStep), <span class="hljs-comment">// 调用 calculateSquares 产生数据</span>
    &#125;)
  &#125;
  <span class="hljs-comment">// 计算赢家</span>
  calculateWinner () &#123;
    <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; lines.<span class="hljs-property">length</span>; i++) &#123;
      <span class="hljs-keyword">const</span> [a, b, c] = lines[i];
      <span class="hljs-keyword">if</span> (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) &#123;
        <span class="hljs-keyword">return</span> squares[a];
      &#125;
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  &#125;
  <span class="hljs-comment">// 生成棋盘数据</span>
  calculateSquares (history, step) &#123;
    <span class="hljs-keyword">const</span> newSquares = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// 创建空棋盘数组</span>
    <span class="hljs-comment">// 循环插入历史数据</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; step; i += <span class="hljs-number">1</span>) &#123;
      <span class="hljs-keyword">const</span> tempHistory = history[i]
      newSquares[tempHistory.<span class="hljs-property">position</span>] = tempHistory.<span class="hljs-property">player</span>
    &#125;
    <span class="hljs-keyword">return</span> newSquares <span class="hljs-comment">// 返回棋盘数据</span>
  &#125;
  <span class="hljs-comment">// 回退历史步骤</span>
  handleGoBack (step) &#123;
    <span class="hljs-keyword">const</span> &#123; history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> tempHistory = history.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, step) <span class="hljs-comment">// 根据传入步数截取历史记录</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">step</span>: step, <span class="hljs-comment">// 重设步数</span>
      <span class="hljs-attr">squares</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateSquares</span>(tempHistory, step), <span class="hljs-comment">// 生成棋盘数据</span>
    &#125;)
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">const</span> winner = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>() 
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;squares.map((info, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleSquareClick(index, player)&#125;&gt;&#123;info&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;winner ? `Player_$&#123;winner&#125; is Winner!!!` : `Current player: $&#123;player&#125;`&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;history&#x27;</span>&gt;</span></span>
<span class="language-xml">            &#123;history.map((record, index) =&gt; (</span>
<span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.handleGoBack(record.step + 1)&#125;&gt;Player_&#123;record.player&#125; to &#123;record.position&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
<span class="language-xml">            ))&#125;</span>
<span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;</code></pre>

<p>至此为止, 基本的游戏功能都完成了, 只不过整个项目都是写在一个文件中的, 并没有进行组件化操作.<br>你们可以自行决定怎么拆分, 也可以继续阅读下去.</p>
<hr>
<h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><p>我认为可以把棋盘和游戏信息展示进行拆分;</p>
<ul>
<li><p><strong>棋盘</strong><br>这部分我觉得单独一个组件就可以了, 不用继续分解了, 因为单个棋格就一个 <code>div</code> 元素 加上 <code>onClick</code> 事件, 组件化的结果并没有简化代码, 反而增加代码量和不方便阅读.</p>
</li>
<li><p><strong>游戏信息</strong><br>可以继续拆分成玩家信息和历史记录, 然后再对应组件内进行状态维护和样式的编辑.</p>
</li>
</ul>
<p>拆分后的 <code>App.js</code> 文件如下</p>
<pre><code class="hljs js"><span class="hljs-comment">// App.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Board</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/Board&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">GameInfo</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./components/GameInfo&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.styl&#x27;</span>;

<span class="hljs-comment">// 获胜条件</span>
<span class="hljs-keyword">const</span> lines = [
  [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
  [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>],
  [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>],
  [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>],
];
<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-comment">// 定义属性</span>
  state = &#123;
    <span class="hljs-attr">squares</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>),
    <span class="hljs-attr">player</span>: <span class="hljs-string">&quot;&quot;</span>,
    <span class="hljs-attr">history</span>: [],
    <span class="hljs-attr">step</span>: <span class="hljs-number">0</span>,
  &#125;
  <span class="hljs-comment">// 计算当前Player</span>
  getCurPlayer () &#123;
    <span class="hljs-keyword">const</span> &#123; step &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">return</span> step % <span class="hljs-number">2</span> ? <span class="hljs-string">&quot;O&quot;</span> : <span class="hljs-string">&quot;X&quot;</span> <span class="hljs-comment">// 能否被2整除</span>
  &#125;
  <span class="hljs-comment">// 生成棋盘数据</span>
  calculateSquares (history, step) &#123;
    <span class="hljs-comment">// 创建新数组</span>
    <span class="hljs-keyword">const</span> newSquares = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">9</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>)
    <span class="hljs-comment">// 循环插入历史数据</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; step; i += <span class="hljs-number">1</span>) &#123;
      <span class="hljs-keyword">const</span> tempHistory = history[i]
      newSquares[tempHistory.<span class="hljs-property">position</span>] = tempHistory.<span class="hljs-property">player</span>
    &#125;
    <span class="hljs-keyword">return</span> newSquares
  &#125;
  <span class="hljs-comment">// 计算赢家</span>
  calculateWinner () &#123;
    <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-comment">// 循环判断胜利条件</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; lines.<span class="hljs-property">length</span>; i++) &#123;
      <span class="hljs-keyword">const</span> [a, b, c] = lines[i];
      <span class="hljs-keyword">if</span> (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) &#123;
        <span class="hljs-keyword">return</span> squares[a];
      &#125;
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  &#125;
  <span class="hljs-comment">// 方块被点击</span>
  handleSquareClick (position, player) &#123;
    <span class="hljs-keyword">const</span> &#123; squares, step, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-comment">// 如果已经获胜或棋格不为空则跳出</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>() || squares[position]) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">const</span> newStep = step + <span class="hljs-number">1</span> <span class="hljs-comment">// 新步数</span>
    <span class="hljs-comment">// 插入新历史记录</span>
    <span class="hljs-keyword">const</span> newHistory = [
      ...history.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, step),
      &#123;
        <span class="hljs-attr">step</span>: step,
        <span class="hljs-attr">player</span>: player,
        <span class="hljs-attr">position</span>: position
      &#125;
    ]
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">step</span>: newStep,
      <span class="hljs-attr">history</span>: newHistory,
      <span class="hljs-attr">squares</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateSquares</span>(newHistory, newStep), <span class="hljs-comment">// 生成棋盘数据</span>
    &#125;)
  &#125;
  <span class="hljs-comment">// 回退历史步骤</span>
  handleGoBack (step = <span class="hljs-number">0</span>) &#123;
    <span class="hljs-keyword">const</span> &#123; history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> tempHistory = history.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, step)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">step</span>: step,
      <span class="hljs-attr">squares</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateSquares</span>(tempHistory, step), <span class="hljs-comment">// 生成棋盘数据</span>
    &#125;)
  &#125;
  <span class="hljs-comment">// 重新开始</span>
  handleRestart () &#123;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;
      <span class="hljs-attr">history</span>: []
    &#125;)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleGoBack</span>()
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>
    <span class="hljs-keyword">const</span> player = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurPlayer</span>()
    <span class="hljs-keyword">const</span> winner = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateWinner</span>()
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;app&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-bar&#x27;</span>&gt;</span></span>
<span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Board</span> <span class="hljs-attr">squares</span>=<span class="hljs-string">&#123;squares&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;i</span> =&gt;</span> this.handleSquareClick(i, player)&#125; /&gt;</span>
<span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">GameInfo</span></span></span>
<span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">player</span>=<span class="hljs-string">&#123;player&#125;</span></span></span>
<span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">winner</span>=<span class="hljs-string">&#123;winner&#125;</span></span></span>
<span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">history</span>=<span class="hljs-string">&#123;history&#125;</span></span></span>
<span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">goBack</span>=<span class="hljs-string">&#123;step</span> =&gt;</span> this.handleGoBack(step)&#125; /&gt;</span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<h4 id="棋盘组件"><a href="#棋盘组件" class="headerlink" title="棋盘组件"></a>棋盘组件</h4><pre><code class="hljs js"><span class="hljs-comment">// Board.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./Board.styl&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Board</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-comment">// 生成棋格</span>
  renderSquare (status, index) &#123;
    <span class="hljs-keyword">return</span> (<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;square&#x27;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.props.onClick(index)&#125; key=&#123;index&#125;&gt;&#123;status&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>)
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; squares &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> <span class="hljs-comment">// 获取棋盘数据</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;board&#x27;</span>&gt;</span></span>
<span class="language-xml">        // 循环棋盘数据生成棋格</span>
<span class="language-xml">        &#123;squares.map((status, index) =&gt; this.renderSquare(status, index))&#125;</span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Board</span></code></pre>
<h3 id="游戏信息组件"><a href="#游戏信息组件" class="headerlink" title="游戏信息组件"></a>游戏信息组件</h3><pre><code class="hljs js"><span class="hljs-comment">// GameInfo.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">History</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./History&#x27;</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GameInfo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; player, winner, history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> <span class="hljs-comment">// 从父组件获取棋手, 胜利方, 历史记录数据</span>
    <span class="hljs-comment">// 当前棋手信息, 如果已经有棋手胜利 返回胜利信息</span>
    <span class="hljs-keyword">const</span> playerInfo = winner ? <span class="hljs-string">`Player_<span class="hljs-subst">$&#123;winner&#125;</span> is Winner!!!`</span> : <span class="hljs-string">`Current player: <span class="hljs-subst">$&#123;player&#125;</span>`</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;game-info&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;player-info&#x27;</span>&gt;</span>&#123;playerInfo&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">History</span> <span class="hljs-attr">history</span>=<span class="hljs-string">&#123;history&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;step</span> =&gt;</span> this.props.goBack(step)&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">History</span>&gt;</span></span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">GameInfo</span></code></pre>
<h4 id="操作历史组件"><a href="#操作历史组件" class="headerlink" title="操作历史组件"></a>操作历史组件</h4><pre><code class="hljs js"><span class="hljs-comment">// History.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Record</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Record&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./History.styl&#x27;</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">History</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; history &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#x27;history&#x27;</span>&gt;</span></span>
<span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.props.onClick(0)&#125;&gt;Go to game start<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> // 回到游戏开始</span>
<span class="language-xml">        &#123;</span>
<span class="language-xml">          history.map((record, index) =&gt; (</span>
<span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Record</span> <span class="hljs-attr">info</span>=<span class="hljs-string">&#123;record&#125;</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.props.onClick(record.step + 1)&#125;&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">Record</span>&gt;</span></span>
<span class="language-xml">          ))</span>
<span class="language-xml">        &#125;</span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">History</span></code></pre>
<h4 id="单条历史记录"><a href="#单条历史记录" class="headerlink" title="单条历史记录"></a>单条历史记录</h4><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Record</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-comment">// 计算坐标 返回二维坐标 [0,0]</span>
  calculatePosition (position) &#123;
    <span class="hljs-keyword">const</span> posY = (position / <span class="hljs-number">3</span> &gt;&gt; <span class="hljs-number">0</span>) + <span class="hljs-number">1</span> <span class="hljs-comment">// 取行号</span>
    <span class="hljs-keyword">const</span> posX = position % <span class="hljs-number">3</span> + <span class="hljs-number">1</span> <span class="hljs-comment">// 取列号</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`[<span class="hljs-subst">$&#123;posY&#125;</span>,<span class="hljs-subst">$&#123;posX&#125;</span>]`</span>
  &#125;
  render () &#123;
    <span class="hljs-keyword">const</span> &#123; info &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span> <span class="hljs-comment">// 继承历史记录</span>
    <span class="hljs-keyword">return</span> (
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> this.props.onClick()&#125;&gt;</span>
<span class="language-xml">        Player_&#123;info.player&#125; to &#123;this.calculatePosition(info.position)&#125;</span>
<span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
    )
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Record</span></code></pre>
<p>样式文件如下:</p>
<pre><code class="hljs stylus"><span class="hljs-comment">// App.styl</span>
<span class="hljs-selector-tag">body</span>
  <span class="hljs-attribute">font-family</span> consolas
  <span class="hljs-attribute">margin</span> <span class="hljs-number">0</span>
<span class="hljs-selector-id">#app</span>
  <span class="hljs-attribute">width</span> <span class="hljs-number">100vw</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">100vh</span>
  <span class="hljs-attribute">display</span> flex
  <span class="hljs-attribute">justify-content</span> center
  <span class="hljs-attribute">align-items</span> center
<span class="hljs-selector-class">.game-bar</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">600px</span>
  <span class="hljs-attribute">max-height</span> <span class="hljs-number">100vh</span>
<span class="hljs-selector-class">.game-info</span>
  <span class="hljs-attribute">width</span> <span class="hljs-number">400px</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">600px</span>
  <span class="hljs-attribute">max-height</span> <span class="hljs-number">100vh</span>
<span class="hljs-selector-class">.player-info</span>
  <span class="hljs-attribute">font-size</span> <span class="hljs-number">22px</span>

<span class="hljs-comment">// Board.styl</span>
<span class="hljs-variable">$square</span> = <span class="hljs-number">60px</span>
<span class="hljs-selector-class">.board</span>
  <span class="hljs-attribute">width</span> <span class="hljs-variable">$square</span> * <span class="hljs-number">3</span>
  <span class="hljs-attribute">border</span> <span class="hljs-number">1px</span> solid black
  <span class="hljs-attribute">margin-right</span> <span class="hljs-number">50px</span>
  <span class="hljs-attribute">display</span> flex
  <span class="hljs-attribute">flex-wrap</span> wrap
<span class="hljs-selector-class">.square</span>
  <span class="hljs-attribute">width</span> <span class="hljs-variable">$square</span>
  <span class="hljs-attribute">height</span> <span class="hljs-variable">$square</span>
  <span class="hljs-attribute">line-height</span> @height
  <span class="hljs-attribute">font-size</span> <span class="hljs-number">25px</span>
  <span class="hljs-attribute">text-align</span> center
  <span class="hljs-attribute">border</span> <span class="hljs-number">1px</span> solid black
  <span class="hljs-attribute">box-sizing</span> border-box
  <span class="hljs-attribute">cursor</span> pointer
  <span class="hljs-selector-pseudo">&amp;:hover</span>
    <span class="hljs-attribute">background</span> <span class="hljs-number">#ddd</span>

<span class="hljs-comment">// History.styl</span>
<span class="hljs-selector-class">.history</span>
  <span class="hljs-attribute">padding</span> <span class="hljs-number">0</span>
  <span class="hljs-attribute">counter-reset</span> number -<span class="hljs-number">1</span>
  <span class="hljs-selector-tag">li</span>
    <span class="hljs-attribute">margin</span> <span class="hljs-number">5px</span> <span class="hljs-number">0</span>
    <span class="hljs-attribute">counter-increment</span> number
    <span class="hljs-attribute">list-style-type</span> none
    <span class="hljs-attribute">cursor</span> pointer
    <span class="hljs-selector-pseudo">&amp;:before</span>
      <span class="hljs-attribute">content</span> <span class="hljs-built_in">counter</span>(number) <span class="hljs-string">&#x27;.&#x27;</span>
      <span class="hljs-attribute">margin-right</span> <span class="hljs-number">10px</span>
      <span class="hljs-attribute">display</span> inline-bloack
    <span class="hljs-selector-pseudo">&amp;:hover</span>
      <span class="hljs-attribute">color</span> red
      <span class="hljs-attribute">text-decoration</span> underline</code></pre>

<p><img src="/2020/react-learning-01/done.jpg" alt="完善后棋盘"></p>
<p>以上</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p>一些卡壳的地方</p>
<ul>
<li>如何创建 <code>State</code> 状态</li>
<li><code>Constructor</code> 是怎么一回事</li>
<li>组件化后子组件如何触发父组件事件</li>
<li>为何 <code>onClick</code> 中的事件会自动执行</li>
<li>React中怎么使用 <code>Stylus</code></li>
<li>组件多层嵌套的情况下怎么获取其它的属性状态，类似 <code>Vuex</code> 的Store</li>
</ul>
 
  </article>


    </div>
  </div>
   
<nav id="article-nav">
  
    <a 
      id="article-nav-newer"
      class="article-nav-link-wrap" 
      href="/2020/JS-class-constructor/" 
      title="关于 ES6 Class 继承中 Constructor 的整理" 
      alt="关于 ES6 Class 继承中 Constructor 的整理"
    >
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">关于 ES6 Class 继承中 Constructor 的整理</div>
    </a>
  
  
    <a 
      id="article-nav-older"
      class="article-nav-link-wrap" 
      href="/2020/react-learning-00/" 
      title="「 ReactJS 笔记 」 L00 起步" 
      alt="「 ReactJS 笔记 」 L00 起步"
    >
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">「 ReactJS 笔记 」 L00 起步</div>
    </a>
  
</nav>
 
</div>

<script>
const postDate = "2020-05-25"
const difference = moment().diff(postDate, 'days')
const isExpired = difference > 300
if (isExpired){
  const el = document.querySelector("#expired-tag")
  let expiredText = `此文章更新于 ${difference} 天前，其中的信息可能已经有所发展或是发生改变，请自行斟酌确认。`
  el.innerHTML = expiredText
} 
</script>

</main>
<!-- 侧边栏 sidebar -->
<aside id="sidebar">
  
    
<!-- 个人信息 author -->
<section class="widget-wrap author-info">
    <img class="author-info-avatar" src="https://yogwang.site/img/userimg.jpg" alt="陟上晴明">
    <h2 class="author-info-nickname">陟上晴明</h2>
    <span class="author-info-bio">久之须自见得</span>
    <p class="author-info-txt">MINTH GROUP</p>
    <p class="author-info-txt">Jiaxing,China</p>
    <div class="author-info-follow">
      
      <a class="fa fa-github author-info-follow-item" href="https://github.com/yogwang" target="_blank"></a>
      
      <a class="fa fa-weibo author-info-follow-item" href="http://weibo.com/yooooooge" target="_blank"></a>
      
      <a class="fa fa-envelope author-info-follow-item" href="mailto:yogwang@foxmail.com" target="_blank"></a>
      
    </div>
</section>

  
    
  <!-- 快捷分类菜单 shortcut menu -->
  <section class="widget-wrap shortcut-menu">
    
      <a href="/categories/前端分享/" class="shortcut-menu-item" >前端分享</a>
    
      <a href="/categories/工作延伸/" class="shortcut-menu-item" >工作延伸</a>
    
      <a href="/categories/踩坑日记/" class="shortcut-menu-item active" >踩坑日记</a>
    
      <a href="/categories/生活杂谈/" class="shortcut-menu-item" >生活杂谈</a>
    
  </section>


  
    
<!-- 最近发布 recent posts -->
  <section class="widget-wrap shadow">
    <h3 class="widget-title">Recent posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a 
              href="/2024/eleui-el-dropdown-keyboard-operation-error/" 
              title="ElementUI 的 Dropdown 组件键盘操控异常抛出" 
              alt="ElementUI 的 Dropdown 组件键盘操控异常抛出"
            >
              ElementUI 的 Dropdown 组件键盘操控异常抛出
            </a>
          </li>
        
          <li>
            <a 
              href="/2024/SASS-use-sass-variables-in-js/" 
              title="在 JS 中引入并使用 SASS 变量" 
              alt="在 JS 中引入并使用 SASS 变量"
            >
              在 JS 中引入并使用 SASS 变量
            </a>
          </li>
        
          <li>
            <a 
              href="/2024/astrojs-notes-00-start/" 
              title="AstroJS 启动！" 
              alt="AstroJS 启动！"
            >
              AstroJS 启动！
            </a>
          </li>
        
          <li>
            <a 
              href="/2024/vue-setup-props-sugar/" 
              title="Vue3 中关于 defineProps 的一些 “糖”" 
              alt="Vue3 中关于 defineProps 的一些 “糖”"
            >
              Vue3 中关于 defineProps 的一些 “糖”
            </a>
          </li>
        
          <li>
            <a 
              href="/2024/CSS-shorthand-property-all-and-css-keyword/" 
              title="CSS中的元素样式还原属性 all:revert" 
              alt="CSS中的元素样式还原属性 all:revert"
            >
              CSS中的元素样式还原属性 all:revert
            </a>
          </li>
        
      </ul>
    </div>
  </section>

  
    
  <!-- 标签列表 tags list -->
  <section class="widget-wrap shadow">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ant-Design-Vue/" rel="tag">Ant-Design-Vue</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/" rel="tag">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AstroJS/" rel="tag">AstroJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axios/" rel="tag">Axios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BetterScrol-js/" rel="tag">BetterScrol.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Caddy/" rel="tag">Caddy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/" rel="tag">Canvas</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding/" rel="tag">Coding</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DigitalOcean/" rel="tag">DigitalOcean</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript-6/" rel="tag">ECMAScript 6</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript-8/" rel="tag">ECMAScript 8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESlint/" rel="tag">ESlint</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electron/" rel="tag">Electron</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElementUI/" rel="tag">ElementUI</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/" rel="tag">Github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/" rel="tag">Gulp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a><span class="tag-list-count">32</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jeecg-boot/" rel="tag">Jeecg-boot</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MSEdge/" rel="tag">MSEdge</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NVM/" rel="tag">NVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NVS/" rel="tag">NVS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHPOK/" rel="tag">PHPOK</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RaspberryPi/" rel="tag">RaspberryPi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactJS/" rel="tag">ReactJS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SCSS/" rel="tag">SCSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/" rel="tag">Server</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Service-Worker/" rel="tag">Service Worker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Three-js/" rel="tag">Three.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VSCode/" rel="tag">VSCode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-Router/" rel="tag">Vue-Router</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueCLI/" rel="tag">VueCLI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueJS/" rel="tag">VueJS</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueUse/" rel="tag">VueUse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/" rel="tag">WebSocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/exceljs/" rel="tag">exceljs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n/" rel="tag">i18n</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rrweb/" rel="tag">rrweb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tinyMCE/" rel="tag">tinyMCE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uViewUI/" rel="tag">uViewUI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uni-app/" rel="tag">uni-app</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E4%BA%AB/" rel="tag">分享</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">小程序</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E4%BC%9A%E5%BC%80%E5%8F%91%E6%97%A5%E8%AE%B0/" rel="tag">年会开发日记</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%83%85%E6%84%9F/" rel="tag">情感</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%96%E5%9D%91/" rel="tag">挖坑</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%AA%E5%AE%8C%E6%88%90/" rel="tag">未完成</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A4%BE%E7%BE%A4%E5%88%86%E4%BA%AB/" rel="tag">社群分享</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98/" rel="tag">问题</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">5</span></li></ul>
    </div>
  </section>

  
    
<!-- 文章归档 posts archives -->
  <section class="widget-wrap shadow">
    <h3 class="widget-title">Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li></ul>
    </div>
  </section>


  
</aside>
    </div>
    <!-- 页尾 page foot -->
<footer id="footer">
  <!-- licensed -->
  <p>
    本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a> 许可协议，转载请注明出处！
  </p>
  <!-- copyright -->
  <p>
    &copy;2024 YogWang
    Powered By <a href="http://hexo.io/" target="_blank">Hexo</a>
    
  </p>
  <br />
  <!-- go top -->
  <a id="gotop" class="fa fa-level-up"></a>
</footer>

<script src="/js/common.js"></script>

  </body>
</html>
