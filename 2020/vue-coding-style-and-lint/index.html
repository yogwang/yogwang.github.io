<!DOCTYPE html>
<html lang="zh">
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>聊一下自己 VueJS 项目的编码习惯和风格 | blog [ YOG WANG ]</title>
  <meta name="keywords" content="YogWang,blog,web-frontend">
  <meta name="description" content="Here is my blog, my notes and some thoughts">
  <meta name="author" content="YogWang">
  <meta name="google-site-verification" content="C6xTGgRjDkU2yb8izJ39IyLjwUMbDpXiATd2a-WLg5U">
  
  <link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header id="header">
  <a class="header-sign" href="/">
    <img src="/favicon.png" alt="sign" />
    <span>YOG<br />WANG</span>
  </a>
  <nav class="header-navbar">
    
    <a class="nav-link" href="/archives">文章</a>
    
    <a class="nav-link" href="/about">我</a>
    
    <a class="nav-link" href="https://github.com/yogwang">GitHub</a>
    
  </nav>
</header>

    <div id="wrap">
      <main id="container">
  <div
  id="post-vue-coding-style-and-lint"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  <div class="article-inner">
    <div class="article-meta">
      <p class="article-date">
  <time datetime="2020-11-11T04:01:49.000Z" itemprop="datePublished">2020-11-11</time>
</p> 
    </div>
    
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      聊一下自己 VueJS 项目的编码习惯和风格
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
       
  <article class="article-content">
    <p><img src="/.site//banner.jpg" alt="横幅"></p>
<p>最近在考虑把遍码习惯整理一下，一个良好的遍码习惯可以有效减少一个项目的维护成本，<br>因为不可能在整个项目的生命周期中，均由最初的开发人员来维护，或者所有的代码都是由你一个人写出来的，<br>改善代码的可读性，可以让开发人员尽快理解历史的业务代码。</p>
<p>之前也有研究过 <a href="/2020/choose-the-ESLint-formatting-rule-that-suits-you/">ESlint的格式化风格</a> 选择一款适合自己的来规范自己，但是了解的越多，越觉得还是需要团队互相讨论来找一个大家能都接受的妥协结果，所以最后还是选择了 <code>Prettier</code> ，因为我觉得其它两种风格相对来说太严苛了，很多项目都是自己开发并没有多人合作开发的情况出现，所以使用 Prettier 相对来说所自由一些…</p>
<a id="more"></a>

<hr>
<h2 id="先来讲代码的格式与注释"><a href="#先来讲代码的格式与注释" class="headerlink" title="先来讲代码的格式与注释"></a>先来讲代码的格式与注释</h2><p>代码的格式和注释虽起不到逻辑作用，但是可以是团队合作效率更高，代码更易于维护。特别是在其他人接手自己项目的时候，能让他很快了解自己的想法。</p>
<p>我这边一直在使用的类似 <code>AirBnb</code> 的 Lint 风格，但只是其中的一些命名、缩进和换行的风格，我并没有严格按照他们的风格来，例如：</p>
<blockquote>
<h4 id="用命名函数表达式而不是函数声明-func-style"><a href="#用命名函数表达式而不是函数声明-func-style" class="headerlink" title="用命名函数表达式而不是函数声明 func-style"></a>用命名函数表达式而不是函数声明 <code>func-style</code></h4><ul>
<li>函数表达式： <code>const func = function () {}</code></li>
<li>函数声明： <code>function func() {}</code></li>
</ul>
</blockquote>
<p>虽然有他们的道理，但是我并不是很喜欢，当然会根据不同团队做出改变。所以保持业务代码的可读性就好，<br>我没有按部就班的使用，项目也只是启用了 <code>Prettier</code> 的默认设置。</p>
<p><strong>概念隔离</strong>：不同的的概念/逻辑代码使用空行隔离</p>
<h2 id="代码注释"><a href="#代码注释" class="headerlink" title="代码注释"></a>代码注释</h2><p>代码注释我这边还没有很明确到很精细的规范，很自由。<br>只是要求了在 <strong>文件头</strong>、<strong>函数声明时</strong> 以及 <strong>函数内一些关键的部分</strong> 进行补充说明，因为有时候只是代码的语义化并不能很好的说明情况。<br>虽然自己也经常会忘记在一些复杂场景下补充注释，但是事后记得补全就好。</p>
<p>哦，对了，记得增加提示信息，防止出现踩坑事件，例如使用 <code>TODO</code> 等标记未来得及完成的部分，并且安装 <a href="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree" target="_blank" rel="noopener">TODO Tree</a> 插件确保自己不会遗忘填坑。</p>
<hr>
<h2 id="冗余代码"><a href="#冗余代码" class="headerlink" title="冗余代码"></a>冗余代码</h2><p>尽量避免重复代码，我对于冗余代码的意见是很大的，需要代码简洁明了清晰易读，特别是明显可以抽离出来复用的业务逻辑。如果重复出现多次的话，我一定会分离出去，特别是一些复杂场景下的大段代码中，尽量 <strong>保持一个函数职责单一</strong></p>
<h3 id="对于代码的提炼"><a href="#对于代码的提炼" class="headerlink" title="对于代码的提炼"></a>对于代码的提炼</h3><p>在考虑到项目的后续发展和可能会出现的扩展之后，在一定版本迭代中不会出现功能拓展的业务代码进行提炼和优化，这就需要你对于项目整体要有一定程度的了解。</p>
<p>对可能在可遇见的时间范围内会出现变动的的业务代码精心适量的优化，并且保持扩展的便利性，确保不会出现死结。</p>
<blockquote>
<p>同时保持代码短小精炼并且易维护、易拓展是很困难的，<strong>优先保证易维护和易拓展</strong>。</p>
</blockquote>
<h2 id="效率"><a href="#效率" class="headerlink" title="效率"></a>效率</h2><p>有时候为了实现尽快实现功能，会出现急功近利的情况，牺牲代码的可读性以及结构。<br>如果很赶时间，尽量在Coding之前，整理好需求，在设计完代码流程和结构之后把注释写在功能头部。<br>方便结束之后整理优化，就算自己忘记整理了，也不至于接手的下一任直接重写，记得代码面向读代码的人来写。</p>
<hr>
<h2 id="最后是-Vue-官方的风格规范"><a href="#最后是-Vue-官方的风格规范" class="headerlink" title="最后是 Vue 官方的风格规范:"></a>最后是 <code>Vue</code> 官方的风格规范:</h2><p>Vue 有一套官方的<a href="https://cn.vuejs.org/v2/style-guide/" target="_blank" rel="noopener">风格指南</a>，里边有一些指导和参考，总共分为四类：</p>
<blockquote>
<ul>
<li>优先级 A：必要的</li>
<li>优先级 B：强烈推荐</li>
<li>优先级 C：推荐</li>
<li>优先级 D：谨慎使用</li>
</ul>
</blockquote>
<p><strong>优先级 A</strong> 的就不需要说了吧，必要的这块内容，应该在学习 Vue 的时候就已经从官方给出的 Demo 感受到了，比如 <strong>组件名为多个单词</strong>，以及 <strong>组件的 data 必须是一个函数</strong>。虽然有一些规范在 Vue3 中已经被修改了，但是在 Vue2 中还是适用的。</p>
<p><strong>优先级 B</strong> 这一类的内容是为了增加代码可读性的，所以尽最大可能的保证使用以及一贯性，基本都是一些命名和书写规范，刻意保持一段时间就习惯了。</p>
<p><strong>优先级 C</strong> 这块内容是比较自由的，官方也设定为<strong>推荐</strong>级别，其中提到的 <strong>组件/实例的选项的顺序</strong>，我觉得重要性还是很高的，在Cooding时保持和官方文档一样的排列顺序。</p>
<p>最近我就出现了同事把 <code>created</code> 代码放到组件最后，我在增加功能的时候在头部也增加了 <code>created</code> ，发现自己的 <code>created</code> 钩子没有执行。当然这个锅其实有一部分是编辑器的，我这边没有对重复声明的对象属性进行错误高亮。</p>
<p><strong>优先级 D</strong> 中的内容是警告内容，这块内容在良好的编码习惯下一般是不会出现的。</p>
<hr>
<p>当然如果你觉得官方的Lint的风格很好，那么你可以使用他们提供的 <a href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noopener">eslint-plugin-vue</a> 这个依赖项，来规范和格式化代码。</p>
<p>最后的最后我对之前 Vue 官方指导没有提到的一些地方进行补充：</p>
<ol>
<li>每一个组件都要有 <code>name</code> 属性。</li>
<li>你需要了解 <code>mixins</code> 和 <code>extends</code>。</li>
<li>使用 <code>computed</code> 来计算一些属性，比如路由信息 <code>$route</code>中的一些传递参数，或者在代码中出现频率很高的深层属性。</li>
<li>在生命周期钩子中，保证不出现业务代码，如果一块内容超过<code>6</code>行那就单独拿出来写成函数放到 <code>methods</code> 中，尽量减少生命周期钩子中的代码量。</li>
<li>业务代码都在 <code>methods</code> 中，或者取成 <code>功能名称.js</code>文件。</li>
<li>在路由中使用 <code>params</code> 来传递参数，记得在路由配置中绑定动态路径参数，不然会丢失</li>
<li>保持Lint开启。</li>
<li>使用环境变量。</li>
</ol>
<h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><p><a href="https://cn.vuejs.org/v2/style-guide/" target="_blank" rel="noopener">风格指南 — Vue.js</a><br><a href="https://eslint.vuejs.org/rules/order-in-components.html" target="_blank" rel="noopener">vue/order-in-components | eslint-plugin-vue</a></p>
<p><a href="https://eslint.vuejs.org/" target="_blank" rel="noopener">Introduction | eslint-plugin-vue</a></p>
 
  </article>


    </div>
  </div>
   
<nav id="article-nav">
  
    <a href="/2020/raspberrypi-01-setup/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <div class="article-nav-title">
        
          📟 树莓派 4B(2GB RAM) 开箱记录
        
      </div>
    </a>
  
  
    <a href="/2020/JS-ES6-MAP/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <div class="article-nav-title">ES6 中的 新数据结构 Set &amp; Map</div>
    </a>
  
</nav>
 
</div>



</main>
<aside id="sidebar">
  
    
<section class="userinfo">
    <img src="/img/userimg.jpg" alt="王阳阳">
    <h2>王阳阳</h2>
    <span>久之须自见得</span>
    <p>ODIN.INC</p>
    <p>Jiaxing,China</p>
    <div>
      
      <a class='fa fa-github' href="https://github.com/yogwang" target="_blank"></a>
      
      <a class='fa fa-weibo' href="http://weibo.com/yooooooge" target="_blank"></a>
      
    </div>
</section>

  
    
  <section class="widget-wrap">
    <h3 class="widget-title">recent_posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/design-pattern-learning-L00/">「 设计模式学习 」 L00 开坑贴 &amp; 设计模式概览</a>
          </li>
        
          <li>
            <a href="/2020/JS-type-and-status-management-dictionary/">项目中的类型和状态管理</a>
          </li>
        
          <li>
            <a href="/2020/JS-ES6-Symbol/">Symbol() 是个什么东西?</a>
          </li>
        
          <li>
            <a href="/2020/raspberrypi-01-setup/">📟 树莓派 4B(2GB RAM) 开箱记录</a>
          </li>
        
          <li>
            <a href="/2020/vue-coding-style-and-lint/">聊一下自己 VueJS 项目的编码习惯和风格</a>
          </li>
        
      </ul>
    </div>
  </section>

  
    
  <section class="widget-wrap">
    <h3 class="widget-title">archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li></ul>
    </div>
  </section>


  
    
  <section class="widget-wrap">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ant-Design-Vue/">Ant-Design-Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axios/">Axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BetterScrol-js/">BetterScrol.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Caddy/">Caddy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding/">Coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DigitalOcean/">DigitalOcean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript-6/">ECMAScript 6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESlint/">ESlint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electron/">Electron</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jeecg-boot/">Jeecg-boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NVM/">NVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHPOK/">PHPOK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RaspberryPi/">RaspberryPi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactJS/">ReactJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Three-js/">Three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-Router/">Vue-Router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueJS/">VueJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress/">WordPress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tinyMCE/">tinyMCE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习/">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/年会开发日记/">年会开发日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/挖坑/">挖坑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/未完成/">未完成</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/问题/">问题</a></li></ul>
    </div>
  </section>


  
</aside>
    </div>
    <footer id="footer">
  <span>
    &copy;2019-2021 YogWang powered_by
    <a href="http://hexo.io/" target="_blank">Hexo</a>
  </span>
  <br />
  <span
    >licensed
    <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank"
      >CC BY-NC 4.0</a
    ></span
  >
</footer>
<div>
  <a id="gotop" class="fa fa-level-up"></a>
</div>
<script src="https://unpkg.com/jquery@3.4.1/dist/jquery.js"></script> <script src="/js/common.js"></script>

  </body>
</html>
