<!DOCTYPE html>
<html lang="zh">
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>å…³äº ES6 Class ç»§æ‰¿ä¸­ Constructor çš„æ•´ç† | blog [ YOG WANG ]</title>
  <meta name="keywords" content="YogWang,blog,web-frontend">
  <meta name="description" content="Here is my blog, my notes and some thoughts">
  <meta name="author" content="YogWang">
  <meta name="google-site-verification" content="C6xTGgRjDkU2yb8izJ39IyLjwUMbDpXiATd2a-WLg5U">
  
  <link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header id="header">
  <a class="header-sign" href="/">
    <img src="/favicon.png" alt="sign" />
    <span>YOG<br />WANG</span>
  </a>
  <nav class="header-navbar">
    
    <a class="nav-link" href="/archives">æ–‡ç« </a>
    
    <a class="nav-link" href="/about">æˆ‘</a>
    
    <a class="nav-link" href="https://github.com/yogwang">GitHub</a>
    
  </nav>
</header>

    <div id="wrap">
      <main id="container">
  <div
  id="post-JS-class-constructor"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  <div class="article-inner">
    <div class="article-meta">
      <p class="article-date">
  <time datetime="2020-05-26T03:14:27.000Z" itemprop="datePublished">2020-05-26</time>
</p> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/ç¬”è®°/">ç¬”è®°</a>
  </div>

    </div>
    
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      å…³äº ES6 Class ç»§æ‰¿ä¸­ Constructor çš„æ•´ç†
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
       
  <article class="article-content">
    <p>ä»Šå¤©åœ¨å’Œå°ä¼™ä¼´èŠå¤©æ—¶, å‘ç°å¯¹äº ES6 ä¸­çš„ Class ç»§æ‰¿çš„ç†è§£æˆ‘å…¶å®è¿˜æ˜¯åªæ˜¯ä¸€ä¸ªæ¨¡æ£±ä¸¤å¯çš„çŠ¶æ€, å…¶å®ä¹Ÿä¸åªæ˜¯ <code>constructor</code> æœ‰é—®é¢˜å…¶å®ƒçš„éƒ¨åˆ†å…¶å®ä¹Ÿæœ‰é—®é¢˜, è¿™æ¬¡å…ˆå†™ç±»çš„ç»§æ‰¿ä¹‹åå†çœ‹æœ‰æ²¡æœ‰å…¶å®ƒæ²¡ç†è§£çš„åœ°æ–¹</p>
<p><em>æ•´ç¯‡æ–‡ç« æ­é…é£Ÿç”¨ é˜®ä¸€å³°è€å¸ˆçš„ <a href="https://es6.ruanyifeng.com/#docs/class-extends" target="_blank" rel="noopener">ECMAScript 6 å…¥é—¨ - Classçš„ç»§æ‰¿</a> æ›´ä½³</em> </p>
<blockquote>
<p>Class å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯” ES5 çš„é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="Constructor-æ–¹æ³•"><a href="#Constructor-æ–¹æ³•" class="headerlink" title="Constructor æ–¹æ³•"></a>Constructor æ–¹æ³•</h2><p>é¦–å…ˆ, åœ¨ç»§æ‰¿çš„ç±»ä¸­ <code>constructor</code> å¯ä»¥çœç•¥ä¸å†™(ä¼šè¢«é»˜è®¤æ·»åŠ )</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  echo () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi!'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B</span><br><span class="line">b.echo() <span class="comment">// Hi!</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœå†™äº† <code>constructor</code> å°±å¿…é¡»è¦åœ¨å†…éƒ¨è°ƒç”¨ <code>super()</code> , å¦åˆ™åœ¨åˆ›å»ºå®ä¾‹çš„è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  echo () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Hi!'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B</span><br><span class="line">b.echo()</span><br><span class="line"><span class="comment">// ReferenceError: Must call super constructor in derived class before accessing 'this' or returning from derived constructor</span></span><br></pre></td></tr></table></figure>

<p>ä»æç¤ºä¸­å°±èƒ½çœ‹åˆ°, å¿…é¡»è°ƒç”¨ <code>super()</code> æ‰èƒ½å®Œæˆå¡‘é€ </p>
<blockquote>
<p>é˜®ä¸€å³°: è¿™æ˜¯å› ä¸ºå­ç±»è‡ªå·±çš„thiså¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</p>
</blockquote>
<p>ä»é˜®ä¸€å³°è€å¸ˆçš„è§£é‡Šä¸­ä¹Ÿå¯ä»¥å¾—å‡º, å¦‚æœè¦åœ¨ç»§æ‰¿ç±»ä¸­ä½¿ç”¨ <code>this</code> å°±å¿…é¡»è¦å…ˆä½¿ç”¨ <code>super()</code>, é‚£ä¹ˆå¯¹åº”çš„å±æ€§å£°æ˜ä¹Ÿéœ€è¦æ”¾åˆ° <code>super()</code> ä¹‹åæ‰è¡Œ:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x;</span><br><span class="line">    <span class="keyword">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y, z) &#123;</span><br><span class="line">    <span class="keyword">this</span>.z = z;  <span class="comment">// ReferenceError</span></span><br><span class="line">    <span class="keyword">super</span>(x, y);</span><br><span class="line">    <span class="keyword">this</span>.z = z;  <span class="comment">// Success</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„ï¼Œsuper-è™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³-super-å†…éƒ¨çš„-this-æŒ‡çš„æ˜¯Bçš„å®ä¾‹ï¼Œå› æ­¤-super-åœ¨è¿™é‡Œç›¸å½“äº-A-prototype-constructor-call-this-ã€‚"><a href="#æ³¨æ„ï¼Œsuper-è™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³-super-å†…éƒ¨çš„-this-æŒ‡çš„æ˜¯Bçš„å®ä¾‹ï¼Œå› æ­¤-super-åœ¨è¿™é‡Œç›¸å½“äº-A-prototype-constructor-call-this-ã€‚" class="headerlink" title="æ³¨æ„ï¼Œsuper() è™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³ super() å†…éƒ¨çš„ this æŒ‡çš„æ˜¯Bçš„å®ä¾‹ï¼Œå› æ­¤ super() åœ¨è¿™é‡Œç›¸å½“äº A.prototype.constructor.call(this)ã€‚"></a>æ³¨æ„ï¼Œ<code>super()</code> è™½ç„¶ä»£è¡¨äº†çˆ¶ç±»Açš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±»Bçš„å®ä¾‹ï¼Œå³ <code>super()</code> å†…éƒ¨çš„ <code>this</code> æŒ‡çš„æ˜¯Bçš„å®ä¾‹ï¼Œå› æ­¤ <code>super()</code> åœ¨è¿™é‡Œç›¸å½“äº <code>A.prototype.constructor.call(this)ã€‚</code></h3><hr>
<h2 id="super-å…³é”®å­—"><a href="#super-å…³é”®å­—" class="headerlink" title="super å…³é”®å­—"></a><code>super</code> å…³é”®å­—</h2><p>é™¤äº†åœ¨ <code>constructor</code> ä¸­è¢«å½“ä½œçˆ¶ç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨( <code>super()</code> ),<br>ä¹Ÿå¯ä»¥å½“æˆå¯¹è±¡( <code>super</code> )ä½¿ç”¨, æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡, ç›¸å½“äº <code>A.prototype</code>, ä½†æ˜¯åœ¨é™æ€æ–¹æ³•ä¸­ <code>super</code> ä¹‹ä¸­æŒ‡å‘äºçˆ¶ç±»</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line">A.prototype.x = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x) <span class="comment">// 2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</span><br></pre></td></tr></table></figure>

<h3 id="è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç”±äº-super-æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡-super-è°ƒç”¨çš„ã€‚"><a href="#è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç”±äº-super-æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡-super-è°ƒç”¨çš„ã€‚" class="headerlink" title="è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç”±äº super æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡ super è°ƒç”¨çš„ã€‚"></a>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œç”±äº <code>super</code> æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œæ‰€ä»¥å®šä¹‰åœ¨çˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ï¼Œæ˜¯æ— æ³•é€šè¿‡ <code>super</code> è°ƒç”¨çš„ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">super</span>.x = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x); <span class="comment">// undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);  <span class="comment">// 3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</span><br></pre></td></tr></table></figure>

<p>å¦å¤– ES6 è§„å®šï¼Œåœ¨å­ç±»æ™®é€šæ–¹æ³•ä¸­é€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„ <code>this</code> æŒ‡å‘å½“å‰çš„å­ç±»å®ä¾‹ã€‚</p>
<p>æ‰€ä»¥é€šè¿‡ <code>super</code> ä¿®æ”¹çš„æ˜¯å½“å‰å­ç±»å®ä¾‹çš„å±æ€§,çˆ¶ç±»çš„å±æ€§å¹¶ä¸ä¼šè¢«ä¿®æ”¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">A.prototype.x = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">super</span>.x = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x); <span class="comment">// 2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);  <span class="comment">// 3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</span><br><span class="line"><span class="built_in">console</span>.log(A.prototype.x) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="é™æ€æ–¹æ³•ä¸­çš„-super"><a href="#é™æ€æ–¹æ³•ä¸­çš„-super" class="headerlink" title="é™æ€æ–¹æ³•ä¸­çš„ super"></a>é™æ€æ–¹æ³•ä¸­çš„ <code>super</code></h4><p>è™½ç„¶é™æ€æ–¹æ³•ä¸­çš„ <code>super</code> å°±æ˜¯æŒ‰ç…§å­—é¢çš„ç†è§£å°±è¡Œ, ä½†æ˜¯å¯èƒ½å¯¹äºä¸æ˜¯ç‰¹åˆ«ç†Ÿæ‚‰ <code>Class</code> çš„æœ‹å‹æ¥è¯´, è¿˜æ˜¯ä¼šæœ‰ä¸€ç‚¹è¿·ç³Š.é‚£ä¹ˆå°±è¿˜æ˜¯ç”¨é˜®ä¸€å³°è€å¸ˆçš„ä¾‹å­æ¥è¯´</p>
<p><small><em>å¦‚æœå¯¹äºé™æ€æ–¹æ³•è¿˜ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šçš„, è¯·å…ˆé˜…è¯»é˜®ä¸€å³°è€å¸ˆçš„ <a href="https://es6.ruanyifeng.com/#docs/class#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95" target="_blank" rel="noopener">ES6 å…¥é—¨ - Class ç« èŠ‚</a></em></small></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> myMethod(msg) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'static'</span>, msg);</span><br><span class="line">  &#125;</span><br><span class="line">  myMethod(msg) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'instance'</span>, msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> myMethod(msg) &#123;</span><br><span class="line">    <span class="keyword">super</span>.myMethod(msg);</span><br><span class="line">  &#125;</span><br><span class="line">  myMethod(msg) &#123;</span><br><span class="line">    <span class="keyword">super</span>.myMethod(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Child.myMethod(<span class="number">1</span>); <span class="comment">// static 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> child = <span class="keyword">new</span> Child();</span><br><span class="line">child.myMethod(<span class="number">2</span>); <span class="comment">// instance 2</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šè¿™ä¸ªä¾‹å­ä¸­, <code>Child.myMethod(1)</code> æ˜¯è°ƒç”¨çš„è°ƒç”¨çš„æ˜¯ <code>Child</code> ç±»çš„é™æ€æ–¹æ³• <code>static</code>, åœ¨é™æ€æ–¹æ³•ä¸­ <code>super</code> æŒ‡å‘äºçˆ¶ç±» <code>Parent</code> å¹¶ä¸æ˜¯çˆ¶ç±»åŸå‹, æ•…è¾“å‡ºçš„æ˜¯ <code>static 1</code></p>
<blockquote>
<p>å¦å¤–ï¼Œåœ¨å­ç±»çš„é™æ€æ–¹æ³•ä¸­é€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„thisæŒ‡å‘å½“å‰çš„å­ç±»ï¼Œè€Œä¸æ˜¯å­ç±»çš„å®ä¾‹ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> print() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> m() &#123;</span><br><span class="line">    <span class="keyword">super</span>.print();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.x = <span class="number">3</span>;</span><br><span class="line">B.m() <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä¸ªäººè§‰å¾—è¿™ä¸ªä¾‹å­è¿˜æ˜¯å¥½çš„, å¦‚æœä¸è¿™æ ·å†™, å¯èƒ½å°±ä¼šæœ‰æœ‹å‹ä¼šè¯¯ä»¥ä¸ºä¼šè¾“å‡º 2, å…¶å®å¹¶ä¸æ˜¯, è¿™é‡Œçš„ <code>this</code> æŒ‡å‘çš„æ˜¯ <strong>å­ç±»</strong>, å¹¶ä¸æ˜¯ <strong>å­ç±»å®ä¾‹</strong></p>
<h2 id="ğŸŒ°-ä¸¾ä¸ªå¯¹äºåˆå­¦è€…å®¹æ˜“æ‘¸ä¸ç€å¤´è„‘çš„ä¾‹å­"><a href="#ğŸŒ°-ä¸¾ä¸ªå¯¹äºåˆå­¦è€…å®¹æ˜“æ‘¸ä¸ç€å¤´è„‘çš„ä¾‹å­" class="headerlink" title="ğŸŒ° ä¸¾ä¸ªå¯¹äºåˆå­¦è€…å®¹æ˜“æ‘¸ä¸ç€å¤´è„‘çš„ä¾‹å­"></a>ğŸŒ° ä¸¾ä¸ªå¯¹äºåˆå­¦è€…å®¹æ˜“æ‘¸ä¸ç€å¤´è„‘çš„ä¾‹å­</h2><hr>
<p>æˆ‘å…ˆæŠŠå·²çŸ¥å®šä¹‰åˆ—å‡ºæ¥: </p>
<ol>
<li>åœ¨ <code>constructor</code> å‡½æ•°ä¸­, å¯ä»¥å½“ä½œçˆ¶ç±»çš„æ„é€ å‡½æ•°ä½¿ç”¨</li>
<li>å¯ä»¥æŠŠ <code>super</code> å½“æˆå¯¹è±¡ä½¿ç”¨<ul>
<li><strong>æ™®é€šæ–¹æ³•</strong> ä¸­ <code>super</code> æŒ‡å‘ çˆ¶ç±»çš„åŸå‹å¯¹è±¡</li>
<li><strong>é™æ€æ–¹æ³•</strong> ä¸­ <code>super</code> æŒ‡å‘ çˆ¶ç±»<ul>
<li><strong>é™æ€æ–¹æ³•</strong> çš„ <code>this</code> æŒ‡å‘ å½“å‰å­ç±»</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example #1"></a>Example #1</h2><p>ä¸ºä»€ä¹ˆå¯ä»¥èµ‹å€¼,ä½†æ˜¯è¯»å–çš„æ—¶å€™æ˜¯ <code>undefined</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">super</span>.x = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x); <span class="comment">// undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);  <span class="comment">// 3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</span><br></pre></td></tr></table></figure>

<p><code>super</code> ä½œä¸ºå¯¹è±¡ä½¿ç”¨æ—¶æåˆ°è¿‡, æ™®é€šæ–¹æ³•ä¸­ <code>super</code> æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡,é‚£ä¹ˆå¯ä»¥çŸ¥é“:</p>
<ul>
<li>åœ¨è¾“å‡º <code>super.x</code> æ—¶, è¯»å–åˆ°çš„å…¶å®æ˜¯ <code>A.rototype.x</code>, ä½†æ˜¯åœ¨çˆ¶ç±»åŸå‹é“¾ä¸Šå¹¶æ²¡æœ‰ <code>x</code> è¿™ä¸ªå±æ€§, æ‰€ä»¥è¾“å‡º <code>undefined</code> ;</li>
</ul>
<p>é‚£ä¸ºä»€ä¹ˆå¯ä»¥èµ‹å€¼å‘¢?</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¹‹å‰æˆ‘æ•…æ„è·³è¿‡ç„¶ååœ¨è¿™é‡Œè®²çš„ä¾‹å­ ğŸ‘‡</p>
<h2 id="Example-2"><a href="#Example-2" class="headerlink" title="Example #2"></a>Example #2</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  print() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  m_print() &#123;</span><br><span class="line">    <span class="keyword">super</span>.print();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</span><br><span class="line">b.m() <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p><code>super.print()</code> è™½ç„¶è°ƒç”¨çš„æ˜¯ <code>A.prototype.print()</code>, ä½†æ˜¯ <code>A.prototype.print()</code> å†…éƒ¨çš„ <code>this</code> æŒ‡å‘ å­ç±»B çš„å®ä¾‹ï¼Œå¯¼è‡´è¾“å‡ºçš„æ˜¯ 2 , è€Œä¸æ˜¯ 1 . ä¹Ÿå°±æ˜¯è¯´, å®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ <code>super.print.call(this)</code></p>
<p><strong>æ‰€ä»¥åœ¨ <code>Example #2</code> ä¸­</strong>, ç”±äº <code>this</code> æŒ‡å‘å­ç±»å®ä¾‹ï¼Œèµ‹å€¼æ“ä½œçš„æ—¶å€™å±æ€§ä¼šå˜æˆå­ç±»å®ä¾‹çš„å±æ€§, æ‰€ä»¥ä¿®æ”¹çš„å…¶å®æ˜¯ <code>this.x</code>.</p>
<h2 id="ç•ªå¤–"><a href="#ç•ªå¤–" class="headerlink" title="ç•ªå¤–"></a>ç•ªå¤–</h2><p>åœ¨è®¨è®ºçš„è¿‡ç¨‹ä¸­æˆ‘ä¸å°ä¼™ä¼´éƒ½æœ‰å‡ ä¸ªé—®é¢˜</p>
<ol>
<li><code>constructor</code> ä¸­ä¼ é€’çš„å‚æ•°æ˜¯æ€ä¹ˆå†³å®šçš„;<ul>
<li>å¯ä»¥æŠŠ <code>constructor</code> ç†è§£ä¸ºè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°, è¿™é‡Œä¼ å…¥çš„å°±æ˜¯çˆ¶ç±»æ‰€éœ€è¦çš„å‚æ•°</li>
</ul>
</li>
<li>å¦‚æœåªéœ€è¦ä½¿ç”¨çˆ¶ç±»çš„å‡ ä¸ªæ–¹æ³•å‘¢;<ul>
<li>ç»§æ‰¿çš„åŸæ„å°±æ˜¯ä»çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•, å¦‚æœä¸éœ€è¦ä½¿ç”¨, ç›´æ¥å¿½è§†å°±è¡Œäº†</li>
</ul>
</li>
</ol>
 
  </article>


    </div>
  </div>
   
<nav id="article-nav">
  
  
    <a href="/2020/react-learning-01/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <div class="article-nav-title">ã€Œ ReactJS ç¬”è®° ã€ L01 äº•å­—æ£‹ç»ƒä¹ </div>
    </a>
  
</nav>
 
</div>



</main>
<aside id="sidebar">
  
    
<section class="userinfo">
    <img src="/img/userimg.jpg" alt="ç‹é˜³é˜³">
    <h2>ç‹é˜³é˜³</h2>
    <span>ä¹…ä¹‹é¡»è‡ªè§å¾—</span>
    <p>ODIN.INC</p>
    <p>Jiaxing,China</p>
    <div>
      
      <a class='fa fa-github' href="https://github.com/yogwang" target="_blank"></a>
      
      <a class='fa fa-weibo' href="http://weibo.com/yooooooge" target="_blank"></a>
      
    </div>
</section>

  
    
  <section class="widget-wrap">
    <h3 class="widget-title">recent_posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/JS-class-constructor/">å…³äº ES6 Class ç»§æ‰¿ä¸­ Constructor çš„æ•´ç†</a>
          </li>
        
          <li>
            <a href="/2020/react-learning-01/">ã€Œ ReactJS ç¬”è®° ã€ L01 äº•å­—æ£‹ç»ƒä¹ </a>
          </li>
        
          <li>
            <a href="/2020/react-learning-00/">ã€Œ ReactJS ç¬”è®° ã€ L00 èµ·æ­¥</a>
          </li>
        
          <li>
            <a href="/2020/jeecg-boot-devDiary10/">Jeecg-boot ä¸­å°æŒ–å‘æ—¥è®°10 å‡çº§AntDä¾èµ–åæŒ‰é’®ç»„ä»¶é…è‰²å‡ºç°å¼‚å¸¸</a>
          </li>
        
          <li>
            <a href="/2020/what-the-export-x-as-x/">export { x as x } ä¸­çš„ as æ˜¯ä»€ä¹ˆï¼Ÿ</a>
          </li>
        
      </ul>
    </div>
  </section>

  
    
  <section class="widget-wrap">
    <h3 class="widget-title">archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li></ul>
    </div>
  </section>


  
    
  <section class="widget-wrap">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ant-Design-Vue/">Ant-Design-Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axios/">Axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BetterScrol-js/">BetterScrol.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/">Chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding/">Coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESlint/">ESlint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Electron/">Electron</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Github/">Github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Handlebars/">Handlebars</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON-Server/">JSON-Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jeecg-boot/">Jeecg-boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MockJS/">MockJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHPOK/">PHPOK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactJS/">ReactJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Threejs/">Threejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-Router/">Vue-Router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueJS/">VueJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress/">WordPress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tinyMCE/">tinyMCE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å­¦ä¹ /">å­¦ä¹ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å¹´ä¼šå¼€å‘æ—¥è®°/">å¹´ä¼šå¼€å‘æ—¥è®°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æ€»ç»“/">æ€»ç»“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æŒ–å‘/">æŒ–å‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æœªå®Œæˆ/">æœªå®Œæˆ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é—®é¢˜/">é—®é¢˜</a></li></ul>
    </div>
  </section>


  
</aside>
    </div>
    <footer id="footer">
  <span>
    &copy;2019-2020 YogWang powered_by
    <a href="http://hexo.io/" target="_blank">Hexo</a>
  </span>
  <br />
  <span
    >licensed
    <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank"
      >CC BY-NC 4.0</a
    ></span
  >
</footer>
<div>
  <a id="gotop" class="fa fa-level-up"></a>
</div>
<script src="https://unpkg.com/jquery@3.4.1/dist/jquery.js"></script> <script src="/js/common.js"></script>

  </body>
</html>
